# TKE 可伸缩性概述

本指南为提高 TKE 集群伸缩性，构建大规格集群提供建议，让 TKE 集群最大限度地提高单个集群的负载能力。与使用多个集群相比，单个大型 TKE 集群可减少运维成本和复杂度，使用统一的管控平台和流水线能力。也可以使用智能调度与弹性伸缩来提升资源利用率，优化成本。但需在多地域部署、租户隔离和集群升级等方面进行权衡。本文重点介绍如何通过单个集群实现最大可扩展性。

## 如何使用本指南

- **适用对象**：负责创建和管理 TKE 集群的开发人员与管理员
- **范围**：想通过单个集群的伸缩性构建大规格集群
- **建议验证**：本文的实践建议您在测试环境评估、验证后再应用于生产集群

## 提高伸缩性收益

- **提升资源利用率**：通过智能调度算法提高装箱率和混合部署（在线业务+离线任务），将节点资源利用率从传统模式的 20-30% 提升至 60-80%，减少空闲资源浪费
- **降低运维复杂度**：通过单一集群承载多类型业务（微服务、批处理、AI 训练等），避免多集群带来的运维割裂，降低监控、日志收集、安全策略管理的复杂度

## 了解伸缩维度

可伸缩性不同于性能和可用性，在规划集群和工作负载的同时，应该将这三者考虑在内。TKE 集群有多个规格提供控制面的扩展，最大支持 5000 节点或 15000 Pod 以上。该数字不是绝对的，但它们来自于与多个用户、工程师和技术专家的经验沉淀。提高单个集群的负载能力具有多维特性，主要领域包括：

### 1. 控制平面扩展

TKE 控制平面由腾讯云完全托管，支持手动和自动扩展控制面能力，保证控制面高可用是腾讯云的职责。但您需合理设计请求模式以避免控制平面过载。

### 2. 数据平面扩展

是用来扩展您工作负载所需的资源，包括 CVM 实例、kubelet 和存储在内的资源都需要随着集群的扩展而进行扩展。本建议会通过 TKE 节点池、自动伸缩（Cluster Autoscaler）等功能完成资源的横向伸缩，通过原生节点和超级节点能力完成资源的纵向伸缩。

### 3. 系统组件扩展

是指运行在集群内的控制器和应用（如 TKE 附加组件、监控服务等）需与集群协同扩展。该建议会涉及系统组件 SLO 介绍、策略管理和优化。

### 4. 工作负载扩展

工作负载应通过水平扩展（如 Deployment 或 StatefulSet 的副本数）实现弹性，通过 HPA、VPA、EHPA、CronHPA 等策略完成水平扩展。设计时需考虑命名空间隔离、服务网格优化和网络策略。

## 超大的伸缩比例

!!! warning "联系专家"
    若需将单个集群扩展至 1000 节点或 50,000 Pod 以上，建议联系腾讯云技术支持或客户经理，与专家获得联系，获取定制化扩展方案。

## 总结

TKE 的可扩展性需从控制平面、数据平面、集群服务和工作负载四个维度协同优化。腾讯云提供托管控制平面、弹性伸缩和丰富的云原生工具链，助力用户高效扩展集群。超大规模场景建议与腾讯云专家合作，确保方案的可靠性与可行性。
